<!--pages/signIn/signIn.wxml-->
<view class="container">
  <!-- å¤´éƒ¨åŒºåŸŸ -->
  <view class="header">

    
    <!-- ç­¾åˆ°ä¿¡æ¯ -->
    <view class="signin-info">
      <view class="signin-stats">
        <view class="consecutive-days">
          <text>è¿ç»­ç­¾åˆ°{{signInInfo.consecutiveDays}}å¤©</text>
        </view>
        <view class="total-points">
          <text>ç§¯åˆ†: {{signInInfo.totalPoints}}</text>
        </view>
      </view>
      
      <!-- ç­¾åˆ°æŒ‰é’® -->
      <view class="signin-btn-container">
        <button 
          class="signin-btn {{signInInfo.todaySigned ? 'signed' : ''}}"
          bindtap="doSignIn"
          disabled="{{signInInfo.todaySigned || loading}}"
        >
          <text wx:if="{{signInInfo.todaySigned}}">ä»Šæ—¥å·²ç­¾åˆ°</text>
          <text wx:elif="{{loading}}">ç­¾åˆ°ä¸­...</text>
          <text wx:else>ç«‹å³ç­¾åˆ°</text>
        </button>
      </view>
    </view>
  </view>

  <!-- å†…å®¹åŒºåŸŸ -->
  <view class="content">
    <view class="section-header">
      <text class="section-title">ç§¯åˆ†æ˜ç»†</text>
      <view class="rules-link" bindtap="viewPointsRules">
        <text>ç§¯åˆ†è§„åˆ™</text>
      </view>
    </view>
    
    <!-- ç§¯åˆ†æ˜ç»†åˆ—è¡¨ -->
    <view class="points-list">
      <block wx:for="{{pointsList}}" wx:key="id">
        <view class="points-item">
          <view class="points-info">
            <view class="points-title">{{item.title}}</view>
            <view class="points-date">{{item.date}}</view>
          </view>
          <view class="points-amount">
            <text class="points-value">+{{item.points}}</text>
            <view class="points-icon">
              <text class="coin-icon">â˜…</text>
            </view>
          </view>
        </view>
      </block>
    </view>
    
    <!-- ç©ºçŠ¶æ€ -->
    <view class="empty-state" wx:if="{{pointsList.length === 0}}">
      <view class="empty-icon">ğŸ“Š</view>
      <text class="empty-text">æš‚æ— ç§¯åˆ†è®°å½•</text>
    </view>
  </view>
</view> 