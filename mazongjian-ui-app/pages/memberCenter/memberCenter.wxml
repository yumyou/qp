<!--pages/memberCenter/memberCenter.wxml-->
<view class="container">
  <!-- å¤´éƒ¨å¯¼èˆª -->


  <!-- è´¦æˆ·ä½™é¢å¡ç‰‡ -->
  <view class="balance-section">
    <view class="balance-card">
      <view class="balance-info">
        <view class="balance-left">
          <text class="balance-label">è´¦æˆ·ä½™é¢(å…ƒ)</text>
          <text class="balance-amount">{{userBalance}}</text>
        </view>
        <view class="balance-right">
          <view class="detail-link" bindtap="goBalanceDetail">
            <text>æ¶ˆè´¹æ˜ç»†</text>
            <van-icon name="arrow" size="14px" color="#999" />
          </view>
          <view class="coin-icon">
            <image src="/pages/static/icon/ye.png" mode="widthFix" style="width: 40px;"></image>
          </view>
        </view>
      </view>
    </view>
  </view>

  <!-- æ“ä½œæŒ‰é’® -->
  <view class="action-buttons">
    <view class="button-group">
      <view class="action-btn {{activeTab === 'recharge' ? 'active' : ''}}" bindtap="switchTab" data-tab="recharge">
        è´¦æˆ·å……å€¼
      </view>
      <view class="action-btn {{activeTab === 'record' ? 'active' : ''}}" bindtap="switchTab" data-tab="record">
        è´¦æˆ·è®°å½•
      </view>
    </view>
  </view>

  <!-- å……å€¼é€‰é¡¹ -->
  <view class="recharge-section" wx:if="{{activeTab === 'recharge'}}">
    <view class="section-title">å……å€¼é€‰é¡¹</view>
    <view class="recharge-grid">
      <view class="recharge-item {{selectedAmount === item.payMoney ? 'selected' : ''}}" 
            wx:for="{{rechargeOptions}}" 
            wx:key="payMoney" 
            bindtap="selectAmount" 
            data-amount="{{item.payMoney}}">
        <view class="amount">{{item.payMoney}}å…ƒ</view>
        <view class="bonus">é€{{item.giftMoney}}å…ƒ</view>
      </view>
    </view>
  </view>

  <!-- è´¦æˆ·è®°å½• -->
  <view class="record-section" wx:if="{{activeTab === 'record'}}">
    <view class="section-title">è´¦æˆ·è®°å½•</view>
    <view class="record-list">
      <block wx:if="{{recordList.length > 0}}">
        <view class="record-item" wx:for="{{recordList}}" wx:key="id">
          <view class="record-info">
            <view class="record-title">{{item.title}}</view>
            <view class="record-time">{{item.time}}</view>
          </view>
          <view class="record-amount {{item.type === 'income' ? 'income' : 'expense'}}">
            {{item.type === 'income' ? '+' : '-'}}{{item.amount}}
          </view>
        </view>
      </block>
      <view class="empty-record" wx:else>
        <view class="empty-icon">
          <text class="icon-text">ğŸ“‹</text>
        </view>
        <view class="empty-text">æš‚æ— è®°å½•</view>
        <view class="empty-desc">æ‚¨è¿˜æ²¡æœ‰ä»»ä½•è´¦æˆ·è®°å½•</view>
      </view>
    </view>
  </view>

  <!-- å……å€¼æŒ‰é’® -->
  <view class="recharge-btn-section" wx:if="{{activeTab === 'recharge'}}">
    <button class="recharge-btn" bindtap="submitRecharge" disabled="{{!selectedAmount}}">
      ç«‹å³å……å€¼
    </button>
  </view>
</view>
